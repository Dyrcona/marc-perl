<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>MARC::File - Base class for files of MARC records</title>
<link rev="made" href="mailto:esummers@esummers.flr.follett.com" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#export">EXPORT</a></li>
	<li><a href="#methods">METHODS</a></li>
	<ul>

		<li><a href="#in__"><code>in()</code></a></li>
		<li><a href="#next_____filter_func___">next( [\&amp;filter_func] )</a></li>
		<li><a href="#skip__"><code>skip()</code></a></li>
		<li><a href="#warnings__"><code>warnings()</code></a></li>
	</ul>

	<li><a href="#related_modules">RELATED MODULES</a></li>
	<li><a href="#todo">TODO</a></li>
	<li><a href="#license">LICENSE</a></li>
	<li><a href="#author">AUTHOR</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>MARC::File - Base class for files of MARC records</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
    use MARC::File::USMARC;</pre>
<pre>
    my $file = MARC::File::USMARC-&gt;in( $filename );</pre>
<pre>
    while ( my $marc = $file-&gt;next() ) {
        # Do something
    }
    $file-&gt;close();
    undef $file;</pre>
<p>
</p>
<hr />
<h1><a name="export">EXPORT</a></h1>
<p>None.</p>
<p>
</p>
<hr />
<h1><a name="methods">METHODS</a></h1>
<p>
</p>
<h2><a name="in__"><code>in()</code></a></h2>
<p>Opens a file for import. Ordinarily you will use <code>MARC::File::USMARC</code>
or <code>MARC::File::MicroLIF</code> to do this.</p>
<pre>
    my $file = MARC::File::USMARC-&gt;in( 'file.marc' );</pre>
<p>Returns a <code>MARC::File</code> object, or <code>undef</code> on failure. If you 
encountered an error the error message will be stored in 
<code>$MARC::File::ERROR</code>.</p>
<p>Optionally you can also pass in a filehandle, and <code>MARC::File</code>.
will ``do the right thing''.</p>
<pre>
    my $handle = IO::File-&gt;new( 'gunzip -c file.marc.gz |' );
    my $file = MARC::File::USMARC-&gt;in( $handle );</pre>
<p>
</p>
<h2><a name="next_____filter_func___">next( [\&amp;filter_func] )</a></h2>
<p>Reads the next record from the file handle passed in.</p>
<p>The <code>$filter_func</code> is a reference to a filtering function.  Currently,
only USMARC records support this.  See <a href="/MARC/File/USMARC.html">the MARC::File::USMARC manpage</a>'s <code>decode()</code>
function for details.</p>
<p>Returns a MARC::Record reference, or <code>undef</code> on error.</p>
<p>
</p>
<h2><a name="skip__"><code>skip()</code></a></h2>
<p>Skips over the next record in the file.  Same as <code>next()</code>,
without the overhead of parsing a record you're going to throw away
anyway.</p>
<p>Returns 1 or undef.</p>
<p>
</p>
<h2><a name="warnings__"><code>warnings()</code></a></h2>
<p>Simlilar to the methods in <a href="/MARC/Record.html">the MARC::Record manpage</a> and <a href="/MARC/Batch.html">the MARC::Batch manpage</a>,
<code>warnings()</code> will return any warnings that have accumulated while
processing this file; and as a side-effect will clear the warnings buffer.</p>
<p>
</p>
<hr />
<h1><a name="related_modules">RELATED MODULES</a></h1>
<p><a href="/MARC/Record.html">the MARC::Record manpage</a></p>
<p>
</p>
<hr />
<h1><a name="todo">TODO</a></h1>
<ul>
<li><strong><a name="item_out"><code>out()</code> method</a></strong><br />
</li>
We only handle files for input right now.
<p></p></ul>
<p>
</p>
<hr />
<h1><a name="license">LICENSE</a></h1>
<p>This code may be distributed under the same terms as Perl itself.</p>
<p>Please note that these modules are not products of or supported by the
employers of the various contributors to the code.</p>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>Andy Lester, <code>&lt;andy@petdance.com&gt;</code></p>

</body>

</html>
